<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Accordion</title>
    <link rel="stylesheet" href="../../common.css" />
    <script src="../../common.js"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@navify/core@6/dist/navify/navify.esm.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@navify/core@6/css/navify.bundle.css" />

    <style>
      nav-list {
        width: 300px;
      }

      .container {
        flex-direction: column;
      }
    </style>
  </head>
  <body>
    <nav-app>
      <nav-content>
        <div class="container">
          <nav-list></nav-list><br />
          <nav-button onclick="toggle()">Toggle</nav-button>
        </div>
      </nav-content>
    </nav-app>

    <script>
      const list = document.querySelector('nav-list');
      let loaded = false;
      const toggle = () => {
        if (loaded) {
          setSkeletonText();
        } else {
          setContent();
        }

        loaded = !loaded;
      }

      const setSkeletonText = () => {
        list.innerHTML = `
          <nav-list-header>
            <nav-skeleton-text animated="true" style="width: 80px"></nav-skeleton-text>
          </nav-list-header>
          <nav-item>
            <nav-thumbnail slot="start">
              <nav-skeleton-text animated="true"></nav-skeleton-text>
            </nav-thumbnail>
            <nav-label>
              <h3>
                <nav-skeleton-text animated="true" style="width: 80%;"></nav-skeleton-text>
              </h3>
              <p>
                <nav-skeleton-text animated="true" style="width: 60%;"></nav-skeleton-text>
              </p>
              <p>
                <nav-skeleton-text animated="true" style="width: 30%;"></nav-skeleton-text>
              </p>
            </nav-label>
          </nav-item>
        `;
      }

      const setContent = () => {
        list.innerHTML = `
          <nav-list-header>Albums</nav-list-header>
          <nav-item>
            <nav-thumbnail slot="start">
              <nav-icon style="width: 100%; height: 100%" name="musical-notes"></nav-icon>
            </nav-thumbnail>
            <nav-label>
              <h3>Abbey Road</h3>
              <p>The Beatles</p>
              <p>1969</p>
            </nav-label>
          </nav-item>
        `;
      }

      setSkeletonText();

    </script>
  </body>
</html>
